---
title: Programma
---

<div id="agenda" class="row">
  <div class="agenda-container col-xs-12 col-sm-12 col-md-12">
    <div class="heading"><%= current_page.data.title %></div>
    <% data.agenda.each_with_index do |day, agenda_index| %>
    <% stage_names = day["stages"].map{ |s| s["name"] } %>
    <% schedule = get_schedule_by_time(day["stages"]) %>
      <div class="day color-<%= agenda_index % 3 %>"><span><%= day["day"] %></span></div>
      <%# Desktop and mobile table %>
      <table class="schedule hidden-lt-676px">
        <thead>
          <th class="time" scope="col">Orari</th>
          <% stage_names.each do |name| %>
          <th class="stage" scope="col"><%= name %></th>
          <% end %>
        </thead>
        <tbody>
          <% schedule.each do |time, bands| %>
          <tr>
            <th class="time" scope="row"><%= time %></th>
            <% stage_names.each do |stage_name| %>
            <td class="band"><%= bands[stage_name] %></th>
            <% end %>
          </td>
          <% end %>
        </tbody>
        <% if day["after"] %>
        <tfoot>
          <% day["after"].each do |after| %>
          <tr class="after color-<%= agenda_index % 3 %>">
            <td colspan="<%= stage_names.length + 1 %>">
            <%= after %>
            </td>
          </tr>
          <% end %>
        </tfoot>
        <% end %>
      </table>

      <%# Mobile tables %>
      <% stage_names.each_with_index do |stage_name, stage_index| %>
      <table class="schedule hidden-gt-676px">
        <thead>
          <th class="time" scope="col">Orari</th>
          <th class="stage <%= (stage_index % 2 == 0)? 'even' : 'odd' %>" scope="col"><%= stage_name %></th>
        </thead>
        <tbody>
          <% schedule.each do |time, bands| %>
          <tr>
            <th class="time" scope="row"><%= time %></th>
            <td class="band"><%= bands[stage_name] %></th>
          </td>
          <% end %>
        </tbody>
        <% if day["after"] %>
        <tfoot>
          <% day["after"].each do |after| %>
          <tr class="after color-<%= agenda_index % 3 %>">
            <td colspan="2">
            <%= after %>
            </td>
          </tr>
          <% end %>
        </tfoot>
        <% end %>
      </table>
      <% end %>

    <% end %>
  </div>
</div>
